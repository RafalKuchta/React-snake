(this.webpackJsonpsnake2=this.webpackJsonpsnake2||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),c=n.n(i),o=n(4),l=n(5),s=n(7),u=n(6),d=n(1),h=n(8),b=37,m=38,f=39,v=40,k={37:!0,38:!0,39:!0,40:!0};var y=function(e){for(var t=e.board,n=e.handleKey,a=[],i=0;i<20;i++)for(var c=0;c<20;c++){var o=20*i+c,l=t[o],s=1===l?"body-cell":2===l?"food-cell":"cell";a.push(r.a.createElement("div",{key:o,className:s}))}return r.a.createElement("div",{className:"board",style:{width:600,height:600},onKeyDown:n,tabIndex:0},a)};var p=function(e){var t=e.handleButton;return r.a.createElement("div",{className:"btnDiv"},r.a.createElement("button",{onClick:t,className:"btn btn-primary left"},"Left"),r.a.createElement("div",null,r.a.createElement("button",{onClick:t,className:"btn btn-primary up"},"Up"),r.a.createElement("button",{onClick:t,className:"btn btn-primary down"},"Down")),r.a.createElement("button",{onClick:t,className:"btn btn-primary right"},"Right"))},E=(n(14),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleKey=function(e){var t=e.nativeEvent.keyCode,a=Math.abs(n.state.direction-t);k[t]&&0!==a&&2!==a&&(n.nextDirection=t)},n.handleButton=function(){document.querySelector(".up").addEventListener("click",(function(){n.nextDirection=m})),document.querySelector(".left").addEventListener("click",(function(){n.nextDirection=b})),document.querySelector(".right").addEventListener("click",(function(){n.nextDirection=f})),document.querySelector(".down").addEventListener("click",(function(){n.nextDirection=v}))},n.state={board:[],snake:[],direction:null,gameOver:!1},n.start=n.start.bind(Object(d.a)(n)),n.frame=n.frame.bind(Object(d.a)(n)),n.handleKey=n.handleKey.bind(Object(d.a)(n)),n.handleButton=n.handleButton.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"start",value:function(){var e=[],t=[44];e[44]=1,this.setState({board:e,snake:t,direction:f},this.frame())}},{key:"frame",value:function(){var e=this,t=this.state,n=t.snake,a=t.board,r=t.direction,i=this.getNextIndex(n[0],r),c=2===a[i]||1===n.length;if(-1!==n.indexOf(i))return this.setState({gameOver:!0}),alert("GameOver");if(c){var o;do{o=Math.floor(400*Math.random())}while(a[o]);a[o]=2}else a[n.pop()]=null;a[i]=1,n.unshift(i),this.nextDirection&&(r=this.nextDirection,this.nextDirection=null),this.setState({board:a,snake:n,direction:r},(function(){setTimeout(e.frame,200)}))}},{key:"getNextIndex",value:function(e,t){var n=e%20,a=Math.floor(e/20);switch(t){case m:a=a<=0?19:a-1;break;case v:a=a>=20?0:a+1;break;case b:n=n<=0?19:n-1;break;case f:n=n>=19?0:n+1;break;default:return}return 20*a+n}},{key:"render",value:function(){var e=this.state.board;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{handleKey:this.handleKey,board:e}),r.a.createElement(p,{handleButton:this.handleButton}))}}]),t}(a.Component));c.a.render(r.a.createElement(E,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.bd3e3c2e.chunk.js.map